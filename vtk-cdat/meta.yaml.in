package:
  name: vtk-cdat
  version: 8.0.1.@VERSION@

source:
  git_rev: context2d-fix-polydataitem-rendering
  git_url: https://gitlab.kitware.com/scott.wittenburg/vtk.git

build:
  number: @BUILD_NUMBER@
  skip: True  # [win]
  detect_binary_files_with_prefix: true
  has_prefix_files:                           [win]
    - Lib/site-packages/vtk/__init__.py       [win]
  features:  # {{{ mesalib }}}
    - mesalib  # {{{ mesalib }}}

requirements:
  host:
    - {{ compiler("cxx") }}
    - python
#    - xorg-libx11
#    - xorg-applewmproto
#    - xorg-bigreqsproto
#    - xorg-cf-files
#    - xorg-compositeproto
#    - xorg-damageproto
#    - xorg-dmxproto
#    - xorg-evieext
#    - xorg-fixesproto
#    - xorg-font-util
#    - xorg-fontcacheproto
#    - xorg-fontsproto
#    - xorg-gccmakedep
#    - xorg-glproto
#    - xorg-imake
#    - xorg-inputproto
#    - xorg-kbproto
#    - xorg-libice
#    - xorg-libpthread-stubs
#    - xorg-libsm
#    - xorg-libx11
#    - xorg-libxau
#    - xorg-libxaw
#    - xorg-libxaw3d
#    - xorg-libxcb
#    - xorg-libxcursor
#    - xorg-libxdmcp
#    - xorg-libxext
#    - xorg-libxfixes
#    - xorg-libxft
#    - xorg-libxi
#    - xorg-libxmu
#    - xorg-libxp
#    - xorg-libxpm
##    - xorg-libxrandr
#    - xorg-libxrender
#    - xorg-libxt
#    - xorg-libxtst
#    - xorg-makedepend
#    - xorg-presentproto
#    - xorg-printproto
#    - xorg-randrproto
#    - xorg-recordproto
#    - xorg-renderproto
#    - xorg-resourceproto
#    - xorg-scrnsaverproto
#    - xorg-trapproto
#    - xorg-util-macros
#    - xorg-videoproto
#    - xorg-windowswmproto
#    - libglu
  build:
    - mesalib >17  # {{{ mesalib }}}
    - cmake
    - proj4 <5
    - hdf5 1.10.*
    - ffmpeg
    - freetype
    - x264 <20151006.2245
    - six
  run:
    - python
    - proj4 <5
    - hdf5 1.10.*
    - ffmpeg
    - freetype
    - mesalib >17  # {{{ mesalib }}}
    - x264 <20151006.2245
    - six

test:
    imports:
        - vtk
        - vtk.vtkCommonCore

about:
    home: http://www.vtk.org/
    license: BSD 3-Clause
    license_file: Copyright.txt
    summary: >
        The Visualization Toolkit (VTK) is an open-source, freely available software
        system for 3D computer graphics, modeling, image processing, volume 
        rendering, scientific visualization, and information visualization.

extra:
    recipe-maintainers:
        - doutriaux1
        - sankhesh
        - danlipsa
